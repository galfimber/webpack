(()=>{"use strict";((e,t)=>{const s="./../../dbHeroes.json",n=document.querySelector(".cards"),l=document.querySelector(".gender"),o=document.querySelector(".isHuman"),i=document.querySelector(".isAlive"),c=document.querySelector(".filmsCount"),d=document.querySelector(".btn-search"),a=document.querySelector(".btn-show-all"),r={},u=e=>fetch(e).then((e=>e.json())),m=e=>{for(let t of e){const e=document.createElement("div");e.classList.add("hero-card");let s=!1;for(let n in t){let l;if("photo"===n)l=document.createElement("img"),l.src=`./../${t[n]}`,l.classList.add("stats"),l.classList.add(`${n}`),e.prepend(l);else if("movies"===n){const o=document.createElement("ul");if(+r.filmsCount!==t[n].length&&null!=r.filmsCount){s=!0;break}l=document.createElement("div");for(let e of t[n]){const t=document.createElement("li");t.classList.add("film-item"),t.innerHTML=`${e[0].toUpperCase()+e.slice(1)}`,o.append(t)}l.innerHTML=`${n[0].toUpperCase()+n.slice(1)}`,l.append(o),l.classList.add("stats"),l.classList.add(`${n}`),e.append(l)}else if("gender"===n){if(r.gender!==t[n]&&void 0!==r.gender&&""!==r.gender){s=!0;break}v(e,l,t,n)}else if("species"===n){if(r.isHuman!==t[n]&&void 0!==r.isHuman){s=!0;break}v(e,l,t,n)}else if("status"===n){if(r.isAlive!==t[n]&&void 0!==r.isAlive){s=!0;break}v(e,l,t,n)}else v(e,l,t,n)}s||n.append(e)}},v=(e,t,s,n)=>{(t=document.createElement("div")).innerHTML=`${n[0].toUpperCase()+n.slice(1)}<div>${s[n]}</div>`,t.classList.add("stats"),t.classList.add(`${n}`),e.append(t)};u(s).then((e=>{console.log(e),m(e)})).catch((e=>console.log(e))),d.addEventListener("click",(()=>{r.gender=l.options[l.selectedIndex].value,o.checked?r.isHuman=o.value:r.isHuman=void 0,i.checked?r.isAlive=i.value:r.isAlive=void 0,r.filmsCount=c.value,console.log(r),n.innerHTML="",u(s).then((e=>{console.log(e),m(e)})).catch((e=>console.log(e)))})),a.addEventListener("click",(()=>{delete r.gender,delete r.isHuman,delete r.isAlive,delete r.filmsCount,n.innerHTML="",u(s).then((e=>{console.log(e),m(e)})).catch((e=>console.log(e)))}))})()})();